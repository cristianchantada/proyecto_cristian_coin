{% extends "basic.html" %}

{% block pageContent %}
<section>
    <form action="/purchase" method="post">
        {{ operation_form.csrf_token }}

        <div class="grid">
            <div>{{ operation_form.moneda_from.label }}</div>
            <div>{{ operation_form.moneda_from }}</div>
            <div>{{ operation_form.moneda_to.label }}</div>
            <div>{{ operation_form.moneda_to }}</div>
        </div>
        <div class="grid">
            <div>{{ operation_form.quantity_from.label }}</div>
            <div>{{ operation_form.quantity_from }}</div>
            <div>{{ operation_form.quantity_to.label }}</div>
            <div class="hueco_resultado">
                <p></p>
                {% if quantity_to %}
                    {{ "%.10f" | format(quantity_to) }} {{ operation_form.moneda_to.data | lower }}'s
                {% endif %}
                {{ operation_form.quantity_to(value=quantity_to, type="hidden") }}
            </div>
        </div>
        <div class="grid">
            <div>Calcular :</div>
            <button type="submit" name="enviar" value="calculate"><span class="material-symbols-outlined">calculate</span></button>
            <div></div>
            <div></div>
        </div>
        <div class="grid">
            <dv></dv>
            <dv></dv>
            <dv>{{ operation_form.unitary_prize.label }}</dv>
            <dv class="hueco_resultado">
                <p></p>
                {% if unitary_prize %}
                    {{ "%.10f" | format(unitary_prize) }} {{ operation_form.moneda_from.data | lower }}'s
                    {{ operation_form.unitary_prize(value=unitary_prize, type="hidden") }}
                {% endif %}
            </dv>
        </div>
        <p></p>
        <div class="grid">
            <table>
                <thead>
                    <th>Datos de la operación que va a lelvarse a cabo</th>
                </thead>
                <tbody>
                    <tr>
                        <td>operation_form.moneda_from.label</td>
                        <td>operation_form.moneda_from</td>
                        <td>operation_form.quantity_from.label</td>
                        <td>operation_form.quantity_from</td>
                    </tr>
                    <tr>
                        <td>peration_form.moneda_to.label</td>
                        <td>peration_form.moneda_to</td>
                        <td>operation_form.quantity_to.label</td>
                        <td>{{ "%.10f" | format(quantity_to) }} {{ operation_form.moneda_to.data | lower }}'s</td>
                    </tr>
                    <tr>
                        <td>Precio unitario de la operación (en monedas a vender)</td>
                        <td>{{ "%.10f" | format(unitary_prize) }} {{ operation_form.moneda_from.data | lower }}'s</td>
                    </tr>
                    <tr>
                        <td>
                            {{ operation_form.date.label }}
                        </td>
                        <td>
                            {{ date }}
                            {{ operation_form.date(value=date, type="hidden") }}
                        </td>
                        <td>
                            {{ operation_form.time.label }}
                        </td>
                        <td>
                            {{ time }}
                            {{ operation_form.time(value=time, type="hidden") }}
                        </td>
                    </tr>
            </tbody>
            </table>
        </div>
        <div class="grid">
            <div></div>
            <div></div>
            <div></div>
            <div>
                <button class= "little_button" type="submit" name="enviar" value="validate" id="btn-valida"><span class="material-symbols-outlined">done_outline</span></button>
            </div>
        </div>
    </form>
</section>
{% endblock %}